{
  "version": 3,
  "sources": ["../../../src/cli/init.ts"],
  "sourcesContent": ["import { Command, Option } from \"commander\";\nimport path from \"path\";\nimport { oneoffContext } from \"../bundler/context.js\";\nimport { checkAuthorization, performLogin } from \"./lib/login.js\";\nimport { initOrReinitForDeprecatedCommands } from \"./configure.js\";\n\nconst cwd = path.basename(process.cwd());\n\n// Initialize a new Convex project.\n// This command is deprecated and hidden from the command help.\n// `npx convex dev --once --configure=new` replaces it.\nexport const init = new Command(\"init\")\n  .description(\"Initialize a new Convex project in the current directory\")\n  .option(\n    \"--project <name>\",\n    `Name of the project to create. Defaults to \\`${cwd}\\` (the current directory)`\n  )\n  .addOption(\n    new Option(\n      \"--team <slug>\",\n      \"Slug identifier for the team this project will belong to.\"\n    )\n  )\n  .action(async (options) => {\n    const ctx = oneoffContext;\n\n    if (!(await checkAuthorization(ctx, false))) {\n      await performLogin(ctx);\n    }\n\n    await initOrReinitForDeprecatedCommands(ctx, options);\n  });\n"],
  "mappings": ";;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,uBAAgC;AAChC,kBAAiB;AACjB,qBAA8B;AAC9B,mBAAiD;AACjD,uBAAkD;AAElD,MAAM,MAAM,YAAAA,QAAK,SAAS,QAAQ,IAAI,CAAC;AAKhC,MAAM,OAAO,IAAI,yBAAQ,MAAM,EACnC,YAAY,0DAA0D,EACtE;AAAA,EACC;AAAA,EACA,gDAAgD;AAClD,EACC;AAAA,EACC,IAAI;AAAA,IACF;AAAA,IACA;AAAA,EACF;AACF,EACC,OAAO,OAAO,YAAY;AACzB,QAAM,MAAM;AAEZ,MAAI,CAAE,UAAM,iCAAmB,KAAK,KAAK,GAAI;AAC3C,cAAM,2BAAa,GAAG;AAAA,EACxB;AAEA,YAAM,oDAAkC,KAAK,OAAO;AACtD,CAAC;",
  "names": ["path"]
}
