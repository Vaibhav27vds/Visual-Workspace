{
  "version": 3,
  "sources": ["../../../src/cli/docs.ts"],
  "sourcesContent": ["import { Command } from \"commander\";\nimport open from \"open\";\nimport chalk from \"chalk\";\nimport {\n  bigBrainClient,\n  deprecationCheckWarning,\n  getAuthHeaderFromGlobalConfig,\n} from \"./lib/utils.js\";\nimport { oneoffContext } from \"../bundler/context.js\";\nimport { readDeploymentEnvVar } from \"./lib/deployment.js\";\n\nexport const docs = new Command(\"docs\")\n  .description(\"Open the docs in the browser\")\n  .option(\"--no-open\", \"Print docs URL instead of opening it in your browser\")\n  .action(async (options) => {\n    const ctx = oneoffContext;\n    // Usually we'd call `getConfiguredDeployment` but in this\n    // command we don't care at all if the user is in the right directory\n    const configuredDeployment = readDeploymentEnvVar();\n    const getCookieUrl = `get_cookie/${configuredDeployment}`;\n    const client = await bigBrainClient(ctx, getAuthHeaderFromGlobalConfig);\n    try {\n      const res = await client.get(getCookieUrl);\n      deprecationCheckWarning(ctx, res);\n      await openDocs(options.open, res.data.cookie);\n    } catch {\n      await openDocs(options.open);\n    }\n  });\n\nasync function openDocs(toOpen: boolean, cookie?: string) {\n  let docsUrl = \"https://docs.convex.dev\";\n  if (cookie !== undefined) {\n    docsUrl += \"/?t=\" + cookie;\n  }\n  if (toOpen) {\n    await open(docsUrl);\n    console.log(chalk.green(\"Docs have launched! Check your browser.\"));\n  } else {\n    console.log(chalk.green(`Find Convex docs here: ${docsUrl}`));\n  }\n}\n"],
  "mappings": ";;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,uBAAwB;AACxB,kBAAiB;AACjB,mBAAkB;AAClB,mBAIO;AACP,qBAA8B;AAC9B,wBAAqC;AAE9B,MAAM,OAAO,IAAI,yBAAQ,MAAM,EACnC,YAAY,8BAA8B,EAC1C,OAAO,aAAa,sDAAsD,EAC1E,OAAO,OAAO,YAAY;AACzB,QAAM,MAAM;AAGZ,QAAM,2BAAuB,wCAAqB;AAClD,QAAM,eAAe,cAAc;AACnC,QAAM,SAAS,UAAM,6BAAe,KAAK,0CAA6B;AACtE,MAAI;AACF,UAAM,MAAM,MAAM,OAAO,IAAI,YAAY;AACzC,8CAAwB,KAAK,GAAG;AAChC,UAAM,SAAS,QAAQ,MAAM,IAAI,KAAK,MAAM;AAAA,EAC9C,QAAE;AACA,UAAM,SAAS,QAAQ,IAAI;AAAA,EAC7B;AACF,CAAC;AAEH,eAAe,SAAS,QAAiB,QAAiB;AACxD,MAAI,UAAU;AACd,MAAI,WAAW,QAAW;AACxB,eAAW,SAAS;AAAA,EACtB;AACA,MAAI,QAAQ;AACV,cAAM,YAAAA,SAAK,OAAO;AAClB,YAAQ,IAAI,aAAAC,QAAM,MAAM,yCAAyC,CAAC;AAAA,EACpE,OAAO;AACL,YAAQ,IAAI,aAAAA,QAAM,MAAM,0BAA0B,SAAS,CAAC;AAAA,EAC9D;AACF;",
  "names": ["open", "chalk"]
}
