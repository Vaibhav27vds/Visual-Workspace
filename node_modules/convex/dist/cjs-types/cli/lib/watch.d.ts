import { Observations, RecordingFs, WatchEvent } from "../../bundler/fs.js";
import { Context, ErrorType } from "../../bundler/context.js";
import { Ora } from "ora";
export declare class Watcher {
    private watch;
    private readyCb;
    private bufferedEvents;
    private waiters;
    constructor(observations: Observations);
    update(observations: Observations): void;
    isWatched(watchedDirs: Set<string>, observedPath: string): boolean;
    ready(): Promise<void>;
    waitForEvent(): Promise<void>;
    drainEvents(): WatchEvent[];
    close(): Promise<void>;
}
export declare class Crash extends Error {
    errorType?: ErrorType;
    constructor(errorType?: ErrorType, err?: any);
}
export declare class WatchContext implements Context {
    fs: RecordingFs;
    deprecationMessagePrinted: boolean;
    spinner: Ora | undefined;
    constructor(traceEvents: boolean);
    crash(_exitCode: number, retry?: ErrorType, err?: any): Promise<never>;
}
//# sourceMappingURL=watch.d.ts.map