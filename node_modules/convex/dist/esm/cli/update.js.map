{
  "version": 3,
  "sources": ["../../../src/cli/update.ts"],
  "sourcesContent": ["import chalk from \"chalk\";\nimport { Command } from \"commander\";\nimport { oneoffContext } from \"../bundler/context.js\";\nimport { loadPackageJson } from \"./lib/utils.js\";\n\nexport const update = new Command(\"update\")\n  .description(\"Print instructions for updating the convex package\")\n  .action(async () => {\n    const ctx = oneoffContext;\n    let updateInstructions = \"npm install convex@latest\\n\";\n    const packages = await loadPackageJson(ctx);\n    const oldPackageNames = Object.keys(packages).filter((name) =>\n      name.startsWith(\"@convex-dev\")\n    );\n    for (const pkg of oldPackageNames) {\n      updateInstructions += `npm uninstall ${pkg}\\n`;\n    }\n\n    console.log(\n      chalk.green(\n        `To view the Convex changelog, go to https://news.convex.dev/tag/releases/\\nWhen you are ready to upgrade, run the following commands:\\n${updateInstructions}`\n      )\n    );\n  });\n"],
  "mappings": ";AAAA,OAAO,WAAW;AAClB,SAAS,eAAe;AACxB,SAAS,qBAAqB;AAC9B,SAAS,uBAAuB;AAEzB,aAAM,SAAS,IAAI,QAAQ,QAAQ,EACvC,YAAY,oDAAoD,EAChE,OAAO,YAAY;AAClB,QAAM,MAAM;AACZ,MAAI,qBAAqB;AACzB,QAAM,WAAW,MAAM,gBAAgB,GAAG;AAC1C,QAAM,kBAAkB,OAAO,KAAK,QAAQ,EAAE;AAAA,IAAO,CAAC,SACpD,KAAK,WAAW,aAAa;AAAA,EAC/B;AACA,aAAW,OAAO,iBAAiB;AACjC,0BAAsB,iBAAiB;AAAA;AAAA,EACzC;AAEA,UAAQ;AAAA,IACN,MAAM;AAAA,MACJ;AAAA;AAAA,EAA0I;AAAA,IAC5I;AAAA,EACF;AACF,CAAC;",
  "names": []
}
